<!DOCTYPE HTML>
<html>
   <head>
      <title>Clothing Search Demo</title>
      <meta charset="utf-8" />
      <link rel="stylesheet" href="../assets/css/main.css" />

      <link rel="stylesheet" href="../assets/css/demo_1/pgwslider.css">
      <link rel="stylesheet" href="../assets/css/demo_1/pgwslider.min.css">

      <script type="text/javascript" src="http://code.jquery.com/jquery-2.2.3.min.js"></script>
   </head>
   <body class="is-preload">

      <!-- Header -->
      <header id="header">
         <div class="inner">
            <pre></pre>
            <a href="#" class="image avatar"><img src="../assets/images/KookminUniv2.png" alt="" /></a>
            <h1><strong>국민대학교 소프트웨어융합대학</strong> <br /></h1>
            Bigdata, Computer vison, AI<br />
            <pre></pre>
            <!-- partial:partials/_sidebar.html -->
            <nav class="sidebar sidebar-offcanvas" id="sidebar">
               <ul class="nav">
                  <li class="nav-item">
                     <a class="nav-link" href="template.html">
                        <i class="menu-icon typcn typcn-document-text"></i>
                        <span class="menu-title" id="menu">이미지 검색</span>
                     </a>
                  </li>
               </ul>
            </nav>
         </div>
      </header>

      <!-- Main -->
         <div id="main">
            <!-- File Upload -->
            <div class="col-12">
               <div class="page-header">
                  <h1 data-heading="Strato" >
    <span data-heading="Strato" id="main_title" contenteditable>검색한 패턴이 포함된 의상 사진을 입력해주세요.</span>
            </h1>

               </div>
            </div>

            <hr width="100%" />

            <!-- TODO: 이 아래로 이미지가 로드되던 안되던 이쁜 틀을 만들려고 합니다. -->
            <!-- Pattern image -->
            <div class="row">
               <div class="col-md-custom-6 grid-margin stretch-card">
                  <div class="card">
                     <img id="patternImg" width="100" height="100">
                  </div>
               </div>
            </div>
            
            <!-- TODO: 업로드 구역을 이쁘게 꾸며주세요. 현재 상태에서 UI만 이쁘게 해주면 됩니다. 위치는 변경 노 -->

				<div class="form-group">
					<form id='upload_form' name="upload_form" method="post" enctype="multipart/form-data">
						<input id="fileupload" type="file" name="fileUpload"></input>
						<input type="button" id="test" value="업로드하기" onclick="ajaxFileUpload()" ></input>
					</form>
				</div>



            <hr width="100%" />

            <!-- Cloth Preview & Thumnail-->
            <ul id="thumbnail_li" class="pgwSlider">
            <li>
               <img src="" alt="Image 1" data-description="Eiffel Tower and Champ de Mars">
            </li>
              <li>
                 <img src="" alt="Image 2" data-large-src="montreal.jpg"></li>
              <li>
                  <img src="" alt="Image 3">
              </li>
              <li>
                  <img src="" alt="Image 4">
              </li>
          </ul>
         </div>

      <!-- Scripts -->
         <script src="../assets/js/demo_1/image_proc.js"></script>
         <script src="../assets/js/jquery.min.js"></script>
         <script src="../assets/js/jquery.poptrox.min.js"></script>
         <script src="../assets/js/browser.min.js"></script>
         <script src="../assets/js/breakpoints.min.js"></script>
         <script src="../assets/js/util.js"></script>
         <script src="../assets/js/main.js"></script>

         <script src="../assets/js/demo_1/pgwslider.jquery.json"></script>
        <script src="../assets/js/demo_1/package.json"></script>
        <script src="../assets/js/demo_1/pgwslider.js"></script>
        <script src="../assets/js/demo_1/pgwslider.min.js"></script>
        <script type="text/javascript">
          $(document).ready(function() {
              $('.pgwSlider').pgwSlider();
          });
        </script>
         <script type="text/javascript">
           function ajaxFileUpload(){

             var form = $("#upload_form")[0];
             var formData = new FormData(form);
             $.ajax({
               type:"POST",
               url:"/upload_form",
               data: formData,
               processData: false,
               contentType: false,
               async: false,
               success:function(data){
                 import_thumbnail(data);
               }
             })
           }
         </script>

         </body>
</html>
